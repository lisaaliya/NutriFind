<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NutriFind by Lisa Aliya - Smart Recipe Finder</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Babel untuk compile JSX di browser -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        sage: {
                            50: '#f4f7f4',
                            100: '#e3ebe3',
                            200: '#c5d6c5',
                            500: '#8A9A5B',
                            600: '#5F6F45',
                            700: '#4a5736',
                            800: '#3A4A3A',
                        },
                        orange: {
                            accent: '#E2725B',
                        }
                    }
                }
            }
        }
    </script>

    <!-- Import Maps untuk Library React & Icon -->
    <script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@18.2.0",
    "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
    "lucide-react": "https://esm.sh/lucide-react@0.263.1",
    "@google/genai": "https://esm.sh/@google/genai@0.1.1",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.0/",
    "react/": "https://aistudiocdn.com/react@^19.2.0/"
  }
}
</script>
</head>
<body class="bg-stone-50 text-slate-800 antialiased">
    <div id="root"></div>

    <!-- MAIN APP SCRIPT -->
    <script type="text/babel" data-type="module">
        import React, { useState, useEffect, useMemo } from 'react';
        import ReactDOM from 'react-dom/client';
        import { 
            Leaf, User, ChefHat, Flame, Activity, Wheat, Sparkles, 
            X, Heart, Info, CheckCircle2, SlidersHorizontal, RotateCcw, 
            Search, ArrowDownCircle 
        } from 'lucide-react';
        import { GoogleGenAI } from '@google/genai';

        // --- 1. DATA CONSTANTS (100+ Resep) ---
        
        const INGREDIENT_OPTIONS = {
          hewan: [
            { value: "telur", label: "Telur" },
            { value: "ayam", label: "Dada Ayam" },
            { value: "sarden", label: "Ikan Sarden" },
            { value: "ikan", label: "Ikan Tongkol" },
            { value: "sapi", label: "Daging Sapi/Kornet" },
            { value: "udang", label: "Udang" },
            { value: "sosis", label: "Sosis/Bakso" }
          ],
          nabati: [
            { value: "tempe", label: "Tempe" },
            { value: "tahu", label: "Tahu" },
            { value: "kacang", label: "Kacang Hijau/Merah" },
            { value: "jamur", label: "Jamur Tiram/Kancing" }
          ],
          sayur: [
            { value: "bayam", label: "Bayam" },
            { value: "wortel", label: "Wortel" },
            { value: "brokoli", label: "Brokoli" },
            { value: "kol", label: "Kol/Kubis" },
            { value: "tomat", label: "Tomat" },
            { value: "kangkung", label: "Kangkung" },
            { value: "buncis", label: "Buncis" },
            { value: "sawi", label: "Sawi Hijau" },
            { value: "terong", label: "Terong" }
          ],
          karbo: [
            { value: "nasi", label: "Nasi Putih" },
            { value: "kentang", label: "Kentang" },
            { value: "oat", label: "Oatmeal" },
            { value: "mie", label: "Mie Instan" },
            { value: "pasta", label: "Pasta/Spaghetti" },
            { value: "roti", label: "Roti Tawar" },
            { value: "bihun", label: "Bihun/Soun" }
          ]
        };

        const INITIAL_RECIPES = [
          // ==================== ANEKA TELUR ====================
          { 
            id: 1, title: "Tumis Telur Bayam Garlic", hewan: "telur", nabati: "", sayur: "bayam", karbo: "nasi", 
            image: "https://images.unsplash.com/photo-1596797038530-2c107229654b?auto=format&fit=crop&w=800&q=80", 
            tags: ["Diet Hemat", "Low Carb"], calories: 350, protein_val: 18, fat_val: 15, carbs_val: 35, price: "Rp 12.000", 
            desc: "Menu akhir bulan kaya zat besi. Cepat, murah, dan sehat.", 
            benefit: "Tinggi zat besi & Vitamin K.", ingredients: ["2 butir telur", "1 ikat bayam", "3 bawang putih", "Saus tiram"], 
            cara: ["Tumis bawang.", "Masukkan bayam layu.", "Masukkan telur orak-arik."] 
          },
          {
            id: 15, title: "Orak Arik Telur Kol", hewan: "telur", nabati: "", sayur: "kol", karbo: "nasi",
            image: "https://images.unsplash.com/photo-1612927230555-d41c19b88496?auto=format&fit=crop&w=800&q=80",
            tags: ["Super Hemat", "5 Menit"], calories: 200, protein_val: 12, fat_val: 10, carbs_val: 15, price: "Rp 5.000",
            desc: "Penyelamat tanggal tua.", benefit: "Cukup gizi murah.", ingredients: ["2 telur", "Kol iris", "Bawang putih"],
            cara: ["Tumis bawang.", "Masak telur.", "Masukkan kol."]
          },
          {
            id: 101, title: "Telur Dadar Padang Ekonomis", hewan: "telur", nabati: "", sayur: "kol", karbo: "nasi",
            image: "https://images.unsplash.com/photo-1626507498427-023a1f496150?auto=format&fit=crop&w=800&q=80",
            tags: ["Indonesia", "Gurih"], calories: 300, protein_val: 14, fat_val: 20, carbs_val: 5, price: "Rp 8.000",
            desc: "Telur dadar tebal ala warung Padang.", benefit: "Protein padat.", ingredients: ["2 telur", "Tepung beras", "Daun bawang", "Kol", "Cabai giling"],
            cara: ["Kocok semua bahan.", "Goreng minyak banyak."]
          },
          {
            id: 102, title: "Sandwich Telur Tomat", hewan: "telur", nabati: "", sayur: "tomat", karbo: "roti",
            image: "https://images.unsplash.com/photo-1525351440155-ad29113d5839?auto=format&fit=crop&w=800&q=80",
            tags: ["Sarapan", "Kilat"], calories: 350, protein_val: 18, fat_val: 15, carbs_val: 30, price: "Rp 7.000",
            desc: "Sarapan klasik praktis.", benefit: "Lycopene tomat.", ingredients: ["2 roti", "1 telur", "Tomat", "Saus"],
            cara: ["Panggang roti.", "Goreng telur.", "Susun."]
          },
          {
            id: 103, title: "Fuyunghai Mie Instan", hewan: "telur", nabati: "", sayur: "wortel", karbo: "mie",
            image: "https://images.unsplash.com/photo-1610446736444-6330ce148d42?auto=format&fit=crop&w=800&q=80",
            tags: ["Kenyang", "Anak Kost"], calories: 550, protein_val: 20, fat_val: 25, carbs_val: 60, price: "Rp 10.000",
            desc: "Kreasi mie jadi omelet tebal siram saus.", benefit: "Karbo loading.", ingredients: ["1 mie rebus", "2 telur", "Wortel", "Saus tomat"],
            cara: ["Campur mie & telur, goreng.", "Buat saus tomat kental."]
          },
          {
            id: 201, title: "Telur Ceplok Kecap Pontianak", hewan: "telur", nabati: "", sayur: "", karbo: "nasi",
            image: "https://images.unsplash.com/photo-1565557623262-b51c2513a641?auto=format&fit=crop&w=800&q=80",
            tags: ["Viral", "Simpel"], calories: 250, protein_val: 12, fat_val: 15, carbs_val: 10, price: "Rp 6.000",
            desc: "Telur ceplok dengan kuah kecap bawang putih yang wangi.", benefit: "Protein cepat.",
            ingredients: ["2 Telur", "3 Bawang putih cincang", "Kecap asin & manis", "Daun bawang"],
            cara: ["Goreng telur setengah matang.", "Tumis bawang putih dengan minyak sisa telur.", "Masukkan kecap dan air dikit, siram ke telur."]
          },
          {
            id: 202, title: "Telur Balado Merah", hewan: "telur", nabati: "", sayur: "", karbo: "nasi",
            image: "https://images.unsplash.com/photo-1596797038530-2c107229654b?auto=format&fit=crop&w=800&q=80",
            tags: ["Pedas", "Tradisional"], calories: 200, protein_val: 12, fat_val: 12, carbs_val: 8, price: "Rp 8.000",
            desc: "Telur rebus goreng dengan sambal balado.", benefit: "Kenyang protein.",
            ingredients: ["2 Telur rebus", "Cabai merah", "Bawang merah & putih", "Tomat"],
            cara: ["Goreng telur rebus sebentar.", "Tumis bumbu halus balado.", "Campurkan."]
          },
          {
            id: 203, title: "Sup Telur Jagung", hewan: "telur", nabati: "", sayur: "", karbo: "",
            image: "https://images.unsplash.com/photo-1588147690186-07f7b163e9f3?auto=format&fit=crop&w=800&q=80",
            tags: ["Hangat", "Comfort"], calories: 180, protein_val: 10, fat_val: 8, carbs_val: 15, price: "Rp 7.000",
            desc: "Sup kental manis gurih ala restoran.", benefit: "Ringan dicerna.",
            ingredients: ["1 Telur kocok", "1 Jagung manis pipil", "Maizena", "Kaldu ayam"],
            cara: ["Rebus jagung.", "Tuang telur sambil diaduk memutar (serabut).", "Kentalkan dengan maizena."]
          },
          {
            id: 204, title: "Telur Barendo (Crispy)", hewan: "telur", nabati: "", sayur: "", karbo: "nasi",
            image: "https://images.unsplash.com/photo-1565557623262-b51c2513a641?auto=format&fit=crop&w=800&q=80",
            tags: ["Crispy", "Padang"], calories: 350, protein_val: 12, fat_val: 25, carbs_val: 5, price: "Rp 6.000",
            desc: "Telur dadar super renyah keriting.", benefit: "Enak.",
            ingredients: ["2 Telur", "Minyak banyak", "Garam"],
            cara: ["Kocok telur sampai berbusa.", "Tuang agak tinggi ke minyak sangat panas.", "Goreng sampai kering."]
          },
          {
            id: 205, title: "Telur Pindang Coklat (Tea Egg)", hewan: "telur", nabati: "", sayur: "", karbo: "",
            image: "https://images.unsplash.com/photo-1506806969562-ab163c22da6e?auto=format&fit=crop&w=800&q=80",
            tags: ["Awet", "Meal Prep"], calories: 80, protein_val: 7, fat_val: 5, carbs_val: 1, price: "Rp 5.000",
            desc: "Telur rebus bumbu kecap & teh, awet disimpan.", benefit: "Rendah lemak.",
            ingredients: ["Telur rebus", "Teh celup", "Kecap manis", "Bawang merah putih", "Salam lengkuas"],
            cara: ["Rebus telur matang kupas/retakkan kulit.", "Rebus lagi dengan bumbu dan teh sampai coklat meresap."]
          },
          {
            id: 206, title: "Tumis Sawi Putih Telur", hewan: "telur", nabati: "", sayur: "sawi", karbo: "nasi",
            image: "https://images.unsplash.com/photo-1629196914375-f7e48f477b6d?auto=format&fit=crop&w=800&q=80",
            tags: ["Sayur", "Harian"], calories: 150, protein_val: 8, fat_val: 10, carbs_val: 10, price: "Rp 8.000",
            desc: "Tumis sayur sederhana dan cepat.", benefit: "Serat tinggi.",
            ingredients: ["Sawi putih", "1 Telur", "Bawang putih", "Cabai"],
            cara: ["Orak arik telur.", "Tumis bawang.", "Masukkan sawi, beri air sedikit."]
          },
          {
            id: 207, title: "Omelet Tahu (Tahu Telur)", hewan: "telur", nabati: "tahu", sayur: "toge", karbo: "nasi",
            image: "https://images.unsplash.com/photo-1604561845607-427d2c3df313?auto=format&fit=crop&w=800&q=80",
            tags: ["Jawa Timur", "Kenyang"], calories: 400, protein_val: 20, fat_val: 22, carbs_val: 25, price: "Rp 12.000",
            desc: "Tahu telur goreng disiram bumbu kacang/kecap.", benefit: "Protein ganda.",
            ingredients: ["2 Tahu potong dadu", "2 Telur", "Toge seduh", "Kecap manis/bumbu pecel"],
            cara: ["Kocok telur dan tahu.", "Goreng dadar.", "Sajikan dengan toge dan bumbu."]
          },
          {
            id: 209, title: "Semur Telur Tahu", hewan: "telur", nabati: "tahu", sayur: "", karbo: "nasi",
            image: "https://images.unsplash.com/photo-1547470659-c2998a69a239?auto=format&fit=crop&w=800&q=80",
            tags: ["Manis", "Kids Friendly"], calories: 300, protein_val: 18, fat_val: 12, carbs_val: 20, price: "Rp 10.000",
            desc: "Telur dan tahu masak kecap manis.", benefit: "Protein lengkap.",
            ingredients: ["Telur rebus", "Tahu goreng", "Kecap manis", "Pala, cengkeh"],
            cara: ["Tumis bumbu halus.", "Masukkan air, kecap, telur, tahu.", "Masak sampai meresap."]
          },

          // ==================== ANEKA AYAM ====================
          { 
            id: 5, title: "Sup Ayam Jahe", hewan: "ayam", nabati: "", sayur: "wortel", karbo: "kentang", 
            image: "https://images.unsplash.com/photo-1547592166-23acbe3a624b?auto=format&fit=crop&w=800&q=80", 
            tags: ["Immunity", "Flu Fighter"], calories: 350, protein_val: 30, fat_val: 10, carbs_val: 35, price: "Rp 20.000", 
            desc: "Kuah hangat bening melegakan.", benefit: "Meningkatkan imun.", 
            ingredients: ["Ayam dadu", "Wortel", "Kentang", "Jahe", "Bawang putih"], 
            cara: ["Rebus ayam & jahe.", "Masukkan sayuran.", "Bumbui."] 
          },
          { 
            id: 6, title: "Ayam Goreng Oat", hewan: "ayam", nabati: "", sayur: "tomat", karbo: "oat", 
            image: "https://images.unsplash.com/photo-1627308594248-18e0018d9f1e?auto=format&fit=crop&w=800&q=80", 
            tags: ["Crispy", "Healthy Fry"], calories: 430, protein_val: 35, fat_val: 12, carbs_val: 50, price: "Rp 22.000", 
            desc: "Ayam krispi sehat serat oat.", benefit: "Serat tinggi.", ingredients: ["Dada ayam", "Oatmeal", "Telur", "Bawang bubuk"], 
            cara: ["Balur ayam ke telur lalu oat.", "Goreng/Air Fryer."] 
          },
          {
            id: 17, title: "Soto Ayam Bening", hewan: "ayam", nabati: "", sayur: "kol", karbo: "bihun",
            image: "https://images.unsplash.com/photo-1572656631137-7935297eff55?auto=format&fit=crop&w=800&q=80",
            tags: ["Segar", "Traditional"], calories: 380, protein_val: 28, fat_val: 12, carbs_val: 40, price: "Rp 25.000",
            desc: "Soto segar kuah kuning.", benefit: "Anti-inflamasi kunyit.", ingredients: ["Ayam rebus", "Bihun", "Kol", "Bumbu soto"],
            cara: ["Tumis bumbu, buat kuah.", "Sajikan dengan pelengkap."]
          },
          {
            id: 104, title: "Ayam Brokoli Saus Tiram", hewan: "ayam", nabati: "", sayur: "brokoli", karbo: "nasi",
            image: "https://images.unsplash.com/photo-1603569283847-aa295f0d016a?auto=format&fit=crop&w=800&q=80",
            tags: ["Chinese Food", "Sehat"], calories: 400, protein_val: 35, fat_val: 15, carbs_val: 40, price: "Rp 25.000",
            desc: "Menu restoran Chinese versi rumahan.", benefit: "Tinggi protein serat.", ingredients: ["Ayam iris", "Brokoli", "Saus tiram", "Bawang putih"],
            cara: ["Tumis ayam.", "Masukkan brokoli & saus."]
          },
          {
            id: 105, title: "Nasi Tim Ayam Jamur", hewan: "ayam", nabati: "jamur", sayur: "", karbo: "nasi",
            image: "https://images.unsplash.com/photo-1616656722880-928929734994?auto=format&fit=crop&w=800&q=80",
            tags: ["Comfort Food", "Lembut"], calories: 450, protein_val: 25, fat_val: 10, carbs_val: 60, price: "Rp 20.000",
            desc: "Nasi lembut topping ayam jamur.", benefit: "Mudah dicerna.", ingredients: ["Beras", "Ayam cincang", "Jamur", "Kecap manis"],
            cara: ["Masak topping ayam.", "Masak nasi di rice cooker dengan topping di atasnya."]
          },
          {
            id: 210, title: "Ayam Kecap Mentega", hewan: "ayam", nabati: "", sayur: "", karbo: "nasi",
            image: "https://images.unsplash.com/photo-1627308594248-18e0018d9f1e?auto=format&fit=crop&w=800&q=80",
            tags: ["Favorit", "Gurih"], calories: 400, protein_val: 30, fat_val: 20, carbs_val: 20, price: "Rp 20.000",
            desc: "Ayam goreng dengan saus mentega kecap.", benefit: "Kaya rasa.",
            ingredients: ["Ayam potong", "Mentega/Margarin", "Kecap manis & Inggris", "Bawang bombay"],
            cara: ["Goreng ayam.", "Tumis bombay dengan mentega.", "Masukkan ayam dan kecap."]
          },
          {
            id: 211, title: "Ayam Suwir Pedas (Balado)", hewan: "ayam", nabati: "", sayur: "", karbo: "nasi",
            image: "https://images.unsplash.com/photo-1541249969116-37207624921f?auto=format&fit=crop&w=800&q=80",
            tags: ["Pedas", "Meal Prep"], calories: 300, protein_val: 32, fat_val: 10, carbs_val: 5, price: "Rp 20.000",
            desc: "Dada ayam suwir bumbu pedas, awet dikulkas.", benefit: "Protein tinggi rendah lemak.",
            ingredients: ["Dada ayam rebus suwir", "Cabai merah", "Daun jeruk", "Serai"],
            cara: ["Tumis bumbu halus.", "Masukkan ayam suwir & daun jeruk.", "Masak sampai kering."]
          },
          {
            id: 212, title: "Ayam Goreng Lengkuas", hewan: "ayam", nabati: "", sayur: "", karbo: "nasi",
            image: "https://images.unsplash.com/photo-1626082927389-6cd097cdc6ec?auto=format&fit=crop&w=800&q=80",
            tags: ["Tradisional", "Wangi"], calories: 450, protein_val: 30, fat_val: 25, carbs_val: 10, price: "Rp 22.000",
            desc: "Ayam goreng dengan remah lengkuas gurih.", benefit: "Aroma menggugah.",
            ingredients: ["Ayam ungkep", "Lengkuas parut banyak", "Kunyit, ketumbar"],
            cara: ["Ungkep ayam dengan bumbu & lengkuas parut.", "Goreng ayam dan bumbunya sampai kering."]
          },
          {
            id: 213, title: "Ayam Popcorn (Camilan/Lauk)", hewan: "ayam", nabati: "", sayur: "", karbo: "kentang",
            image: "https://images.unsplash.com/photo-1563379926898-05f4575a45d8?auto=format&fit=crop&w=800&q=80",
            tags: ["Snack", "Crispy"], calories: 350, protein_val: 20, fat_val: 18, carbs_val: 25, price: "Rp 18.000",
            desc: "Potongan ayam kecil tepung crispy.", benefit: "Disukai anak-anak.",
            ingredients: ["Dada ayam dadu kecil", "Tepung bumbu", "Minyak"],
            cara: ["Celup ayam ke tepung.", "Goreng deep fry."]
          },
          {
            id: 218, title: "Ayam Teriyaki Simple", hewan: "ayam", nabati: "", sayur: "wortel", karbo: "nasi",
            image: "https://images.unsplash.com/photo-1547496502-ffa76f30d088?auto=format&fit=crop&w=800&q=80",
            tags: ["Jepang", "Manis"], calories: 400, protein_val: 30, fat_val: 15, carbs_val: 30, price: "Rp 22.000",
            desc: "Ayam saus manis ala Jepang.", benefit: "Disukai semua.",
            ingredients: ["Ayam fillet", "Saus Teriyaki/Tiram+Kecap", "Bawang bombay", "Wortel"],
            cara: ["Marinasi ayam.", "Tumis ayam dan bombay.", "Masukkan sisa saus."]
          },
          {
            id: 219, title: "Pepes Ayam Kemangi", hewan: "ayam", nabati: "", sayur: "", karbo: "nasi",
            image: "https://images.unsplash.com/photo-1541249969116-37207624921f?auto=format&fit=crop&w=800&q=80",
            tags: ["Kukus", "Sehat"], calories: 350, protein_val: 35, fat_val: 10, carbs_val: 5, price: "Rp 20.000",
            desc: "Ayam kukus bumbu rempah.", benefit: "Tanpa minyak.",
            ingredients: ["Ayam", "Kemangi", "Bumbu halus kuning", "Daun pisang (opsional)"],
            cara: ["Campur ayam bumbu.", "Bungkus/taruh wadah.", "Kukus matang."]
          },

          // ==================== ANEKA IKAN & SEAFOOD ====================
          { 
            id: 2, title: "Nasi Gila Sarden", hewan: "sarden", nabati: "", sayur: "kol", karbo: "nasi", 
            image: "https://images.unsplash.com/photo-1516684732162-798a0062be99?auto=format&fit=crop&w=800&q=80", 
            tags: ["Anak Kost", "One Pot"], calories: 480, protein_val: 22, fat_val: 20, carbs_val: 50, price: "Rp 15.000", 
            desc: "Sarden masak nasi.", benefit: "Omega-3.", ingredients: ["Sarden", "Kol", "Bawang", "Nasi"], 
            cara: ["Tumis bumbu & sarden.", "Campur nasi."] 
          },
          { 
            id: 7, title: "Mie Nyemek Tongkol", hewan: "ikan", nabati: "", sayur: "sawi", karbo: "mie", 
            image: "https://images.unsplash.com/photo-1541249969116-37207624921f?auto=format&fit=crop&w=800&q=80", 
            tags: ["Pedas", "Hack"], calories: 520, protein_val: 28, fat_val: 22, carbs_val: 55, price: "Rp 18.000", 
            desc: "Mie kuah kental ikan.", benefit: "Protein otot.", ingredients: ["Mie instan", "Tongkol suwir", "Sawi", "Telur"], 
            cara: ["Masak mie.", "Campur tongkol & telur."] 
          },
          { 
            id: 10, title: "Roti Bakar Tuna Melt", hewan: "ikan", nabati: "", sayur: "tomat", karbo: "roti", 
            image: "https://images.unsplash.com/photo-1619623067140-5e5d3269a840?auto=format&fit=crop&w=800&q=80", 
            tags: ["Western", "Portable"], calories: 340, protein_val: 25, fat_val: 18, carbs_val: 20, price: "Rp 16.000", 
            desc: "Sandwich tuna creamy.", benefit: "Protein.", ingredients: ["Roti", "Tuna kaleng", "Mayo", "Tomat"], 
            cara: ["Campur tuna mayo.", "Isi roti.", "Panggang."] 
          },
          {
            id: 106, title: "Sarden Tumis Kangkung", hewan: "sarden", nabati: "", sayur: "kangkung", karbo: "nasi",
            image: "https://images.unsplash.com/photo-1565557623262-b51c2513a641?auto=format&fit=crop&w=800&q=80",
            tags: ["Zat Besi", "Cepat"], calories: 300, protein_val: 18, fat_val: 12, carbs_val: 35, price: "Rp 15.000",
            desc: "Sarden campur kangkung.", benefit: "Zat besi.", ingredients: ["Sarden", "Kangkung", "Bawang"],
            cara: ["Tumis bumbu.", "Masak sarden.", "Layukan kangkung."]
          },
          {
            id: 220, title: "Sarden Goreng Tepung (Crispy)", hewan: "sarden", nabati: "", sayur: "", karbo: "nasi",
            image: "https://images.unsplash.com/photo-1546069901-ba9599a7e63c?auto=format&fit=crop&w=800&q=80",
            tags: ["Unik", "Crispy"], calories: 350, protein_val: 20, fat_val: 20, carbs_val: 25, price: "Rp 15.000",
            desc: "Ikan sarden kaleng digoreng garing.", benefit: "Kalsium (tulang sarden).",
            ingredients: ["Ikan sarden (tiriskan kuah)", "Tepung bumbu"],
            cara: ["Gulingkan ikan ke tepung.", "Goreng garing.", "Sajikan kuahnya sebagai saus cocolan."]
          },
          {
            id: 221, title: "Ikan Goreng Sambal Matah", hewan: "ikan", nabati: "", sayur: "", karbo: "nasi",
            image: "https://images.unsplash.com/photo-1541249969116-37207624921f?auto=format&fit=crop&w=800&q=80",
            tags: ["Bali", "Segar"], calories: 380, protein_val: 25, fat_val: 22, carbs_val: 10, price: "Rp 18.000",
            desc: "Ikan goreng disiram sambal mentah segar.", benefit: "Sehat tanpa santan.",
            ingredients: ["Ikan tongkol/kembung goreng", "Bawang merah iris", "Serai iris", "Cabai rawit", "Minyak panas"],
            cara: ["Campur irisan bumbu.", "Siram minyak panas & jeruk nipis.", "Taruh di atas ikan."]
          },
          {
            id: 223, title: "Ikan Pesmol Kuning", hewan: "ikan", nabati: "", sayur: "wortel", karbo: "nasi",
            image: "https://images.unsplash.com/photo-1572656631137-7935297eff55?auto=format&fit=crop&w=800&q=80",
            tags: ["Sunda", "Asam Segar"], calories: 400, protein_val: 25, fat_val: 18, carbs_val: 15, price: "Rp 20.000",
            desc: "Ikan bumbu kuning acar.", benefit: "Kunyit & cuka.",
            ingredients: ["Ikan goreng", "Bumbu kuning", "Wortel potong korek", "Cuka/Jeruk"],
            cara: ["Tumis bumbu kuning & wortel.", "Beri air & cuka.", "Masukkan ikan."]
          },
          {
            id: 224, title: "Tumis Udang Buncis", hewan: "udang", nabati: "", sayur: "buncis", karbo: "nasi",
            image: "https://images.unsplash.com/photo-1603082260683-149b56f8a379?auto=format&fit=crop&w=800&q=80",
            tags: ["Sehat", "Cepat"], calories: 250, protein_val: 18, fat_val: 10, carbs_val: 10, price: "Rp 22.000",
            desc: "Sayur buncis manis dengan udang.", benefit: "Serat & Protein.",
            ingredients: ["Udang kupas", "Buncis iris serong", "Bawang putih", "Saus tiram"],
            cara: ["Tumis udang berubah warna.", "Masukkan buncis.", "Bumbui."]
          },

          // ==================== ANEKA SAPI & SOSIS ====================
          {
            id: 16, title: "Perkedel Kentang Kornet", hewan: "sapi", nabati: "", sayur: "", karbo: "kentang",
            image: "https://images.unsplash.com/photo-1655610852024-e274a1cb5d37?auto=format&fit=crop&w=800&q=80",
            tags: ["Side Dish", "Kids"], calories: 300, protein_val: 10, fat_val: 18, carbs_val: 35, price: "Rp 15.000",
            desc: "Lauk pendamping soto.", benefit: "Energi.", ingredients: ["Kentang", "Kornet", "Telur"],
            cara: ["Haluskan kentang goreng.", "Campur kornet.", "Celup telur, goreng."]
          },
          {
            id: 108, title: "Tumis Buncis Sapi Cincang", hewan: "sapi", nabati: "", sayur: "buncis", karbo: "nasi",
            image: "https://images.unsplash.com/photo-1603082260683-149b56f8a379?auto=format&fit=crop&w=800&q=80",
            tags: ["Chinese", "Crunchy"], calories: 350, protein_val: 15, fat_val: 20, carbs_val: 30, price: "Rp 20.000",
            desc: "Buncis ala Szechuan.", benefit: "Serat.", ingredients: ["Buncis", "Sapi/Kornet", "Bawang"],
            cara: ["Goreng buncis sebentar.", "Tumis daging.", "Campur."]
          },
          {
            id: 109, title: "Nasi Goreng Sosis", hewan: "sosis", nabati: "", sayur: "sawi", karbo: "nasi",
            image: "https://images.unsplash.com/photo-1603133872878-684f108fd1f6?auto=format&fit=crop&w=800&q=80",
            tags: ["Dinner", "Classic"], calories: 500, protein_val: 15, fat_val: 20, carbs_val: 65, price: "Rp 12.000",
            desc: "Nasi goreng kampung.", benefit: "Kenyang.", ingredients: ["Nasi", "Sosis", "Sawi", "Kecap"],
            cara: ["Tumis bumbu & sosis.", "Masak nasi goreng."]
          },
          {
            id: 230, title: "Tumis Sosis Asam Manis", hewan: "sosis", nabati: "", sayur: "tomat", karbo: "nasi",
            image: "https://images.unsplash.com/photo-1610446736444-6330ce148d42?auto=format&fit=crop&w=800&q=80",
            tags: ["Anak", "Cepat"], calories: 350, protein_val: 12, fat_val: 20, carbs_val: 20, price: "Rp 12.000",
            desc: "Sosis mekar saus tomat.", benefit: "Praktis.",
            ingredients: ["Sosis (kerat)", "Bawang bombay", "Saus tomat & sambal"],
            cara: ["Tumis sosis mekar.", "Masukkan saus & bombay.", "Beri air dikit."]
          },
          {
            id: 233, title: "Sapi Lada Hitam (Versi Kornet)", hewan: "sapi", nabati: "", sayur: "", karbo: "nasi",
            image: "https://images.unsplash.com/photo-1541249969116-37207624921f?auto=format&fit=crop&w=800&q=80",
            tags: ["Hack", "Mewah"], calories: 350, protein_val: 15, fat_val: 25, carbs_val: 10, price: "Rp 18.000",
            desc: "Kornet dimasak ala blackpepper.", benefit: "Rasa mewah harga murah.",
            ingredients: ["Kornet sapi", "Bawang bombay", "Saus lada hitam", "Paprika/Cabai besar"],
            cara: ["Bentuk kornet bulat, goreng.", "Tumis bombay & saus.", "Campur kornet."]
          },
          {
            id: 236, title: "Tumis Sosis Sayuran (Capcay Sosis)", hewan: "sosis", nabati: "", sayur: "wortel", karbo: "nasi",
            image: "https://images.unsplash.com/photo-1603082260683-149b56f8a379?auto=format&fit=crop&w=800&q=80",
            tags: ["Sehat", "Warna-warni"], calories: 300, protein_val: 10, fat_val: 15, carbs_val: 25, price: "Rp 15.000",
            desc: "Sayur campur sosis.", benefit: "Serat.",
            ingredients: ["Sosis", "Wortel, Buncis, Kol", "Bawang putih"],
            cara: ["Tumis bawang.", "Masak sayur.", "Masukkan sosis."]
          },
          {
            id: 240, title: "Corned Beef Hash (Tumis Kentang Kornet)", hewan: "sapi", nabati: "", sayur: "", karbo: "kentang",
            image: "https://images.unsplash.com/photo-1655610852024-e274a1cb5d37?auto=format&fit=crop&w=800&q=80",
            tags: ["Western", "Breakfast"], calories: 400, protein_val: 15, fat_val: 20, carbs_val: 35, price: "Rp 18.000",
            desc: "Tumisan kentang dadu dan kornet kering.", benefit: "Energi sarapan.",
            ingredients: ["Kentang rebus dadu", "Kornet", "Bawang bombay"],
            cara: ["Tumis bombay & kornet sampai kering.", "Masukkan kentang.", "Aduk rata sampai agak gosong dikit."]
          },

          // ==================== ANEKA TAHU TEMPE & NABATI ====================
          { 
            id: 3, title: "Steak Tempe Blackpepper", hewan: "", nabati: "tempe", sayur: "wortel", karbo: "kentang", 
            image: "https://images.unsplash.com/photo-1546069901-ba9599a7e63c?auto=format&fit=crop&w=800&q=80",
            tags: ["Vegan", "Protein"], calories: 420, protein_val: 25, fat_val: 18, carbs_val: 40, price: "Rp 10.000", 
            desc: "Steak ala resto dari tempe.", benefit: "Rendah kolesterol.", ingredients: ["Tempe", "Kentang", "Wortel", "Saus lada hitam"], 
            cara: ["Panggang patty tempe.", "Siram saus."] 
          },
          { 
            id: 4, title: "Tahu Cabai Garam", hewan: "", nabati: "tahu", sayur: "", karbo: "nasi", 
            image: "https://images.unsplash.com/photo-1546548970-71785318a17b?auto=format&fit=crop&w=800&q=80",
            tags: ["Pedas", "Viral"], calories: 380, protein_val: 15, fat_val: 20, carbs_val: 45, price: "Rp 11.000", 
            desc: "Tahu crispy bawang cabai.", benefit: "Kalsium.", ingredients: ["Tahu", "Cabai", "Bawang putih", "Tepung"], 
            cara: ["Goreng tahu tepung.", "Tumis cabai bawang.", "Aduk."] 
          },
          { 
            id: 8, title: "Spaghetti Aglio Olio Tempe", hewan: "", nabati: "tempe", sayur: "brokoli", karbo: "pasta", 
            image: "https://images.unsplash.com/photo-1593361413861-1ac606992d42?auto=format&fit=crop&w=800&q=80", 
            tags: ["Fusion", "Vegetarian"], calories: 400, protein_val: 20, fat_val: 15, carbs_val: 50, price: "Rp 15.000", 
            desc: "Pasta mewah kearifan lokal.", benefit: "Isoflavon.", ingredients: ["Pasta", "Tempe", "Brokoli", "Bawang putih"], 
            cara: ["Rebus pasta.", "Tumis tempe & bumbu.", "Campur."] 
          },
          { 
            id: 11, title: "Bubur Kacang Hijau", hewan: "", nabati: "kacang", sayur: "", karbo: "", 
            image: "https://images.unsplash.com/photo-1587397750137-b6f8498877f8?auto=format&fit=crop&w=800&q=80", 
            tags: ["Dessert", "Fiber"], calories: 280, protein_val: 12, fat_val: 8, carbs_val: 45, price: "Rp 7.000", 
            desc: "Manis alami.", benefit: "Pencernaan.", ingredients: ["Kacang hijau", "Gula merah", "Santan"], 
            cara: ["Rebus kacang empuk.", "Masak santan gula."] 
          },
          { 
            id: 13, title: "Semur Tahu Kentang", hewan: "", nabati: "tahu", sayur: "", karbo: "kentang", 
            image: "https://images.unsplash.com/photo-1547470659-c2998a69a239?auto=format&fit=crop&w=800&q=80", 
            tags: ["Manis", "Tradisional"], calories: 330, protein_val: 16, fat_val: 10, carbs_val: 45, price: "Rp 12.000", 
            desc: "Kuah kecap rempah.", benefit: "Nabati.", ingredients: ["Tahu", "Kentang", "Kecap manis"], 
            cara: ["Tumis bumbu.", "Rebus tahu kentang kecap."] 
          },
          {
            id: 20, title: "Jamur Crispy Asam Manis", hewan: "", nabati: "jamur", sayur: "wortel", karbo: "nasi",
            image: "https://images.unsplash.com/photo-1625937751876-4515cd8e78bd?auto=format&fit=crop&w=800&q=80",
            tags: ["Vegan", "Chinese"], calories: 320, protein_val: 10, fat_val: 16, carbs_val: 45, price: "Rp 14.000",
            desc: "Jamur goreng saus.", benefit: "Pengganti daging.", ingredients: ["Jamur tiram", "Tepung", "Saus tomat"],
            cara: ["Goreng jamur.", "Siram saus."]
          },
          {
            id: 111, title: "Orek Tempe Basah", hewan: "", nabati: "tempe", sayur: "", karbo: "nasi",
            image: "https://images.unsplash.com/photo-1629196914375-f7e48f477b6d?auto=format&fit=crop&w=800&q=80",
            tags: ["Warteg", "Awet"], calories: 300, protein_val: 18, fat_val: 12, carbs_val: 40, price: "Rp 6.000",
            desc: "Lauk sejuta umat.", benefit: "Probiotik.", ingredients: ["Tempe", "Kecap", "Cabai"],
            cara: ["Goreng tempe.", "Masak kecap air."]
          },
          {
            id: 241, title: "Tempe Mendoan", hewan: "", nabati: "tempe", sayur: "", karbo: "",
            image: "https://images.unsplash.com/photo-1629196914375-f7e48f477b6d?auto=format&fit=crop&w=800&q=80",
            tags: ["Gorengan", "Snack"], calories: 250, protein_val: 10, fat_val: 15, carbs_val: 20, price: "Rp 5.000",
            desc: "Tempe tepung setengah matang.", benefit: "Enak.",
            ingredients: ["Tempe iris tipis", "Tepung terigu & beras", "Daun bawang", "Bumbu halus ketumbar"],
            cara: ["Celup tempe ke adonan.", "Goreng sebentar (mendo)."]
          },
          {
            id: 242, title: "Sambal Tempe Penyet", hewan: "", nabati: "tempe", sayur: "", karbo: "nasi",
            image: "https://images.unsplash.com/photo-1629196914375-f7e48f477b6d?auto=format&fit=crop&w=800&q=80",
            tags: ["Pedas", "Lauk"], calories: 300, protein_val: 15, fat_val: 12, carbs_val: 25, price: "Rp 6.000",
            desc: "Tempe goreng dipenyet sambal terasi.", benefit: "Selera makan.",
            ingredients: ["Tempe goreng", "Sambal terasi/bawang"],
            cara: ["Ulek sambal.", "Penyet tempe di cobek."]
          },
          {
            id: 243, title: "Tahu Gejrot", hewan: "", nabati: "tahu", sayur: "", karbo: "",
            image: "https://images.unsplash.com/photo-1546548970-71785318a17b?auto=format&fit=crop&w=800&q=80",
            tags: ["Cirebon", "Pedas"], calories: 200, protein_val: 10, fat_val: 8, carbs_val: 25, price: "Rp 8.000",
            desc: "Tahu pong kuah asam pedas.", benefit: "Segar.",
            ingredients: ["Tahu pong/sumedang", "Gula merah, asam, kecap", "Cabai rawit, bawang merah"],
            cara: ["Ulek kasar bumbu.", "Siram kuah gula asam.", "Potong tahu."]
          },
          {
            id: 245, title: "Tumis Jamur Tiram Pedas", hewan: "", nabati: "jamur", sayur: "", karbo: "nasi",
            image: "https://images.unsplash.com/photo-1625937751876-4515cd8e78bd?auto=format&fit=crop&w=800&q=80",
            tags: ["Pedas", "Kenyal"], calories: 150, protein_val: 5, fat_val: 8, carbs_val: 10, price: "Rp 10.000",
            desc: "Jamur suwir tumis cabai.", benefit: "Serat.",
            ingredients: ["Jamur tiram suwir", "Cabai", "Bawang"],
            cara: ["Tumis bumbu.", "Masukkan jamur.", "Masak sampai layu."]
          },
          {
            id: 249, title: "Sate Jamur Tiram", hewan: "", nabati: "jamur", sayur: "", karbo: "nasi",
            image: "https://images.unsplash.com/photo-1625937751876-4515cd8e78bd?auto=format&fit=crop&w=800&q=80",
            tags: ["Vegan", "Bakar"], calories: 200, protein_val: 8, fat_val: 5, carbs_val: 20, price: "Rp 12.000",
            desc: "Sate dari jamur.", benefit: "Mirip ayam.",
            ingredients: ["Jamur tiram (rebus sebentar peras airnya)", "Bumbu kecap kacang"],
            cara: ["Tusuk jamur.", "Bakar oles kecap.", "Sajikan bumbu kacang."]
          },

          // ==================== ANEKA SAYUR MAYUR ====================
          { 
            id: 12, title: "Capcay Kuah Telur Puyuh", hewan: "telur", nabati: "jamur", sayur: "wortel", karbo: "", 
            image: "https://images.unsplash.com/photo-1662973747190-6718d055416c?auto=format&fit=crop&w=800&q=80", 
            tags: ["Vitamin", "Family"], calories: 250, protein_val: 14, fat_val: 10, carbs_val: 18, price: "Rp 15.000", 
            desc: "Sayur lengkap kuah kental.", benefit: "Multivitamin.", ingredients: ["Wortel", "Sawi", "Telur puyuh", "Jamur"], 
            cara: ["Tumis bawang.", "Masak sayur.", "Kentalkan."] 
          },
          { 
            id: 14, title: "Oseng Buncis Udang", hewan: "udang", nabati: "tempe", sayur: "buncis", karbo: "nasi", 
            image: "https://images.unsplash.com/photo-1603082260683-149b56f8a379?auto=format&fit=crop&w=800&q=80", 
            tags: ["Seafood", "Fiber"], calories: 310, protein_val: 22, fat_val: 12, carbs_val: 30, price: "Rp 25.000", 
            desc: "Buncis crunchy udang manis.", benefit: "Yodium.", ingredients: ["Udang", "Buncis", "Tempe"], 
            cara: ["Tumis udang.", "Masukkan buncis."] 
          },
          {
            id: 18, title: "Tumis Kangkung Terasi", hewan: "", nabati: "", sayur: "kangkung", karbo: "nasi",
            image: "https://images.unsplash.com/photo-1565557623262-b51c2513a641?auto=format&fit=crop&w=800&q=80",
            tags: ["Classic", "Fiber"], calories: 150, protein_val: 5, fat_val: 8, carbs_val: 10, price: "Rp 5.000",
            desc: "Menu wajib warteg.", benefit: "Zat besi.", ingredients: ["Kangkung", "Terasi"],
            cara: ["Tumis terasi.", "Masak kangkung cepat."]
          },
          {
            id: 114, title: "Sayur Bening Bayam", hewan: "", nabati: "", sayur: "bayam", karbo: "",
            image: "https://images.unsplash.com/photo-1576021182211-9ea8dced3690?auto=format&fit=crop&w=800&q=80",
            tags: ["Segar", "Ringan"], calories: 100, protein_val: 4, fat_val: 1, carbs_val: 20, price: "Rp 6.000",
            desc: "Sayur paling segar.", benefit: "Hidrasi.", ingredients: ["Bayam", "Jagung", "Kunci"],
            cara: ["Rebus jagung.", "Masukkan bayam sebentar."]
          },
          {
            id: 115, title: "Terong Balado Teri", hewan: "ikan", nabati: "", sayur: "terong", karbo: "nasi",
            image: "https://images.unsplash.com/photo-1518596647976-574d6d678733?auto=format&fit=crop&w=800&q=80",
            tags: ["Pedas", "Nafsu Makan"], calories: 300, protein_val: 10, fat_val: 20, carbs_val: 25, price: "Rp 12.000",
            desc: "Pedas gurih asin.", benefit: "Kalsium teri.", ingredients: ["Terong", "Teri", "Sambal"],
            cara: ["Goreng terong & teri.", "Tumis sambal."]
          },
          {
            id: 250, title: "Sayur Asem Jakarta", hewan: "", nabati: "kacang", sayur: "labu", karbo: "",
            image: "https://images.unsplash.com/photo-1576021182211-9ea8dced3690?auto=format&fit=crop&w=800&q=80",
            tags: ["Segar", "Betawi"], calories: 150, protein_val: 8, fat_val: 2, carbs_val: 25, price: "Rp 10.000",
            desc: "Kuah asam segar dengan kacang tanah.", benefit: "Vitamin.",
            ingredients: ["Labu siam", "Kacang panjang", "Jagung", "Asam jawa", "Kacang tanah"],
            cara: ["Rebus air bumbu halus.", "Masukkan sayuran keras.", "Terakhir daun melinjo (jika ada)."]
          },
          {
            id: 252, title: "Pecel Sayur (Bumbu Jadi)", hewan: "telur", nabati: "tahu", sayur: "bayam", karbo: "nasi",
            image: "https://images.unsplash.com/photo-1596797038530-2c107229654b?auto=format&fit=crop&w=800&q=80",
            tags: ["Sehat", "Tradisional"], calories: 400, protein_val: 15, fat_val: 15, carbs_val: 50, price: "Rp 10.000",
            desc: "Salad Jawa dengan bumbu kacang.", benefit: "Serat tinggi.",
            ingredients: ["Bayam rebus", "Tauge rebus", "Kacang panjang", "Bumbu pecel instan"],
            cara: ["Rebus semua sayuran.", "Seduh bumbu pecel.", "Siram."]
          },
          {
            id: 254, title: "Tumis Labu Siam Telur", hewan: "telur", nabati: "", sayur: "labu", karbo: "nasi",
            image: "https://images.unsplash.com/photo-1629196914375-f7e48f477b6d?auto=format&fit=crop&w=800&q=80",
            tags: ["Diet", "Simpel"], calories: 180, protein_val: 10, fat_val: 10, carbs_val: 15, price: "Rp 8.000",
            desc: "Labu siam potong korek tumis.", benefit: "Rendah kalori.",
            ingredients: ["Labu siam", "Telur", "Bawang putih"],
            cara: ["Tumis bawang.", "Masukkan telur arik.", "Masukkan labu."]
          },
          {
            id: 255, title: "Tumis Pare Teri (Tips Tidak Pahit)", hewan: "ikan", nabati: "", sayur: "pare", karbo: "nasi",
            image: "https://images.unsplash.com/photo-1565557623262-b51c2513a641?auto=format&fit=crop&w=800&q=80",
            tags: ["Pahit", "Obat"], calories: 200, protein_val: 12, fat_val: 10, carbs_val: 15, price: "Rp 10.000",
            desc: "Pare tumis teri.", benefit: "Menurunkan gula darah.",
            ingredients: ["Pare (remas garam cuci bersih)", "Teri goreng", "Cabai"],
            cara: ["Tumis bumbu.", "Masukkan pare.", "Terakhir teri."]
          },
          {
            id: 257, title: "Tumis Kacang Panjang Tempe", hewan: "", nabati: "tempe", sayur: "kacang", karbo: "nasi",
            image: "https://images.unsplash.com/photo-1603082260683-149b56f8a379?auto=format&fit=crop&w=800&q=80",
            tags: ["Harian", "Murah"], calories: 250, protein_val: 12, fat_val: 10, carbs_val: 25, price: "Rp 7.000",
            desc: "Sayur rumahan klasik.", benefit: "Serat.",
            ingredients: ["Kacang panjang", "Tempe dadu", "Kecap manis"],
            cara: ["Goreng tempe 1/2 matang.", "Tumis bumbu & kacang panjang.", "Campur tempe & kecap."]
          },
          {
            id: 258, title: "Brokoli Cah Bawang Putih", hewan: "", nabati: "", sayur: "brokoli", karbo: "",
            image: "https://images.unsplash.com/photo-1603569283847-aa295f0d016a?auto=format&fit=crop&w=800&q=80",
            tags: ["Resto", "Sehat"], calories: 100, protein_val: 5, fat_val: 5, carbs_val: 10, price: "Rp 10.000",
            desc: "Tumis brokoli simpel ala resto.", benefit: "Antioksidan.",
            ingredients: ["Brokoli", "Bawang putih cincang banyak", "Minyak wijen"],
            cara: ["Rebus brokoli sebentar.", "Tumis bawang sampai emas.", "Siram ke brokoli."]
          },
          {
            id: 259, title: "Gado-Gado (Simple)", hewan: "telur", nabati: "tahu", sayur: "bayam", karbo: "kentang",
            image: "https://images.unsplash.com/photo-1596797038530-2c107229654b?auto=format&fit=crop&w=800&q=80",
            tags: ["Salad", "Kenyang"], calories: 450, protein_val: 20, fat_val: 20, carbs_val: 50, price: "Rp 15.000",
            desc: "Sayur rebus, tahu, tempe, telur bumbu kacang.", benefit: "Gizi lengkap.",
            ingredients: ["Sayuran rebus", "Tahu tempe goreng", "Telur rebus", "Bumbu gado-gado blok"],
            cara: ["Tata semua bahan.", "Siram bumbu kacang."]
          },

          // ==================== ANEKA KARBO & LAINNYA ====================
          { 
            id: 9, title: "Bubur Oatmeal Gurih", hewan: "telur", nabati: "", sayur: "bayam", karbo: "oat", 
            image: "https://images.unsplash.com/photo-1517673132405-a56a62b18caf?auto=format&fit=crop&w=800&q=80", 
            tags: ["Breakfast", "Diet"], calories: 320, protein_val: 18, fat_val: 12, carbs_val: 40, price: "Rp 8.000", 
            desc: "Bubur oat asin.", benefit: "Jantung.", ingredients: ["Oatmeal", "Telur", "Bayam", "Kaldu"], 
            cara: ["Seduh oat.", "Topping telur."] 
          },
          {
            id: 19, title: "Bihun Goreng Kampung", hewan: "telur", nabati: "", sayur: "sawi", karbo: "bihun",
            image: "https://images.unsplash.com/photo-1626804475297-411dbe66f076?auto=format&fit=crop&w=800&q=80",
            tags: ["Dinner", "Carbo"], calories: 410, protein_val: 14, fat_val: 15, carbs_val: 60, price: "Rp 12.000",
            desc: "Bihun kecap.", benefit: "Energi.", ingredients: ["Bihun", "Telur", "Sawi", "Kecap"],
            cara: ["Tumis bumbu telur.", "Masukkan bihun."]
          },
          {
            id: 116, title: "Nasi Goreng Kencur", hewan: "telur", nabati: "", sayur: "", karbo: "nasi",
            image: "https://images.unsplash.com/photo-1603133872878-684f108fd1f6?auto=format&fit=crop&w=800&q=80",
            tags: ["Sunda", "Wangi"], calories: 450, protein_val: 12, fat_val: 15, carbs_val: 60, price: "Rp 8.000",
            desc: "Nasgor aroma kencur.", benefit: "Hangat.", ingredients: ["Nasi", "Kencur", "Telur"],
            cara: ["Ulek kencur.", "Masak nasgor."]
          },
          {
            id: 117, title: "Mie Tek-Tek Kuah", hewan: "telur", nabati: "", sayur: "kol", karbo: "mie",
            image: "https://images.unsplash.com/photo-1612530188095-2c8135832711?auto=format&fit=crop&w=800&q=80",
            tags: ["Hujan", "Pedas"], calories: 480, protein_val: 15, fat_val: 18, carbs_val: 55, price: "Rp 10.000",
            desc: "Mie kuah abang-abang.", benefit: "Kenyang.", ingredients: ["Mie", "Telur", "Sayur"],
            cara: ["Tumis bumbu.", "Rebus mie & telur."]
          },
          {
            id: 260, title: "Nasi Kuning Rice Cooker", hewan: "", nabati: "", sayur: "", karbo: "nasi",
            image: "https://images.unsplash.com/photo-1596797038530-2c107229654b?auto=format&fit=crop&w=800&q=80",
            tags: ["Sarapan", "Wangi"], calories: 300, protein_val: 5, fat_val: 10, carbs_val: 50, price: "Rp 5.000",
            desc: "Nasi kuning praktis.", benefit: "Karbo enak.",
            ingredients: ["Beras", "Santan instan", "Kunyit bubuk", "Serai daun salam"],
            cara: ["Cuci beras.", "Masukkan semua bahan ke rice cooker.", "Masak seperti nasi biasa."]
          },
          {
            id: 261, title: "Nasi Uduk Rice Cooker", hewan: "", nabati: "", sayur: "", karbo: "nasi",
            image: "https://images.unsplash.com/photo-1596797038530-2c107229654b?auto=format&fit=crop&w=800&q=80",
            tags: ["Sarapan", "Gurih"], calories: 300, protein_val: 5, fat_val: 10, carbs_val: 50, price: "Rp 5.000",
            desc: "Nasi uduk wangi santan.", benefit: "Energi.",
            ingredients: ["Beras", "Santan", "Salam", "Garam"],
            cara: ["Masak di rice cooker."]
          },
          {
            id: 262, title: "Mie Goreng Jawa", hewan: "ayam", nabati: "", sayur: "kol", karbo: "mie",
            image: "https://images.unsplash.com/photo-1612530188095-2c8135832711?auto=format&fit=crop&w=800&q=80",
            tags: ["Manis", "Jawa"], calories: 450, protein_val: 18, fat_val: 15, carbs_val: 60, price: "Rp 15.000",
            desc: "Mie goreng basah manis.", benefit: "Kenyang.",
            ingredients: ["Mie telor basah/kuning", "Ayam suwir", "Kecap manis", "Kol, Sawi"],
            cara: ["Tumis bumbu kemiri.", "Masukkan mie & kecap.", "Beri sedikit air biar nyemek."]
          },
          {
            id: 264, title: "Kwetiau Goreng Telur", hewan: "telur", nabati: "", sayur: "sawi", karbo: "mie",
            image: "https://images.unsplash.com/photo-1612530188095-2c8135832711?auto=format&fit=crop&w=800&q=80",
            tags: ["Chinese", "Cepat"], calories: 420, protein_val: 12, fat_val: 18, carbs_val: 55, price: "Rp 10.000",
            desc: "Kwetiau goreng simpel.", benefit: "Kenyang.",
            ingredients: ["Kwetiau basah", "Telur", "Bawang putih", "Kecap asin manis"],
            cara: ["Orak arik telur.", "Masukkan kwetiau & bumbu.", "Masak api besar."]
          },
          {
            id: 265, title: "Roti Bakar Telur Keju", hewan: "telur", nabati: "", sayur: "", karbo: "roti",
            image: "https://images.unsplash.com/photo-1525351440155-ad29113d5839?auto=format&fit=crop&w=800&q=80",
            tags: ["Sarapan", "Cheesy"], calories: 350, protein_val: 15, fat_val: 18, carbs_val: 30, price: "Rp 10.000",
            desc: "Toast gurih.", benefit: "Kalsium.",
            ingredients: ["Roti tawar", "Telur dadar", "Keju slice/parut"],
            cara: ["Buat sandwich.", "Panggang di teflon dengan mentega."]
          },
          {
            id: 266, title: "Pizza Roti Tawar", hewan: "sosis", nabati: "", sayur: "tomat", karbo: "roti",
            image: "https://images.unsplash.com/photo-1619623067140-5e5d3269a840?auto=format&fit=crop&w=800&q=80",
            tags: ["Snack", "Pizza"], calories: 300, protein_val: 10, fat_val: 12, carbs_val: 35, price: "Rp 12.000",
            desc: "Pizza mini praktis.", benefit: "Seru.",
            ingredients: ["Roti tawar", "Saus tomat/bolognese", "Sosis", "Keju melt"],
            cara: ["Oles saus di roti.", "Tata toping.", "Panggang di teflon tutup sebentar sampai keju leleh."]
          },
          {
            id: 267, title: "Nasi Gila (Sosis Bakso)", hewan: "sosis", nabati: "", sayur: "kol", karbo: "nasi",
            image: "https://images.unsplash.com/photo-1603133872878-684f108fd1f6?auto=format&fit=crop&w=800&q=80",
            tags: ["Jajanan", "Malam"], calories: 500, protein_val: 18, fat_val: 20, carbs_val: 60, price: "Rp 15.000",
            desc: "Tumisan sosis bakso pedas manis dimakan pakai nasi.", benefit: "Kenyang pol.",
            ingredients: ["Nasi putih", "Sosis & Bakso iris", "Telur arik", "Kecap manis pedas"],
            cara: ["Tumis semua bahan isian dengan kecap.", "Sajikan di atas nasi hangat."]
          },
          {
            id: 270, title: "Bubur Ayam Rice Cooker", hewan: "ayam", nabati: "", sayur: "", karbo: "nasi",
            image: "https://images.unsplash.com/photo-1517673132405-a56a62b18caf?auto=format&fit=crop&w=800&q=80",
            tags: ["Sarapan", "Sakit"], calories: 300, protein_val: 15, fat_val: 8, carbs_val: 45, price: "Rp 10.000",
            desc: "Bubur ayam tanpa diaduk terus.", benefit: "Mudah.",
            ingredients: ["Beras (cuci bersih)", "Air kaldu/banyak air", "Ayam (rebus bareng)", "Garam jahe"],
            cara: ["Masak di rice cooker dengan air 4-5x lipat beras.", "Tunggu jadi bubur."]
          }
        ];

        // --- 2. AI SERVICE ---
        const API_KEY = ""; // Masukkan API Key Google Gemini Anda di sini jika ingin fitur AI aktif

        const ai = new GoogleGenAI({ apiKey: API_KEY });

        const generateRecipeWithAI = async (ingredients) => {
          if (!API_KEY) {
            console.warn("No API Key found. AI feature disabled.");
            alert("Fitur AI memerlukan API Key. Silakan tambahkan API Key di dalam kode (baris ~360).");
            return null;
          }

          const ingredientList = ingredients.filter(i => i).join(", ");
          const prompt = `
            You are a professional chef specializing in cheap, healthy meals for college students (Anak Kost) in Indonesia.
            Create a single creative recipe using these ingredients: ${ingredientList}.
            You can assume they have basic seasonings (salt, sugar, oil, garlic, soy sauce).
            Return the response in Indonesian (Bahasa Indonesia).
            IMPORTANT: Provide the ingredients as a list of strings, not a single paragraph.
          `;

          try {
            const response = await ai.models.generateContent({
              model: "gemini-2.5-flash",
              contents: prompt,
              config: {
                responseMimeType: "application/json",
                responseSchema: {
                  type: "OBJECT",
                  properties: {
                    title: { type: "STRING" },
                    desc: { type: "STRING", description: "Short appetizing description (max 150 chars)" },
                    tags: { 
                        type: "ARRAY", 
                        items: { type: "STRING" } 
                    },
                    calories: { type: "NUMBER" },
                    protein_val: { type: "NUMBER" },
                    fat_val: { type: "NUMBER" },
                    carbs_val: { type: "NUMBER" },
                    price: { type: "STRING", description: "Estimated price in IDR format e.g. Rp 15.000" },
                    benefit: { type: "STRING", description: "Health benefit explanation" },
                    ingredients: { 
                        type: "ARRAY", 
                        items: { type: "STRING" },
                        description: "List of ingredients with quantities e.g. '2 butir telur'"
                    },
                    cara: { 
                        type: "ARRAY", 
                        items: { type: "STRING" },
                        description: "Step by step cooking instructions"
                    },
                  },
                  required: ["title", "desc", "calories", "protein_val", "fat_val", "carbs_val", "price", "ingredients", "cara"]
                }
              }
            });

            if (response.text) {
              const data = JSON.parse(response.text);
              return {
                id: `ai-${Date.now()}`,
                hewan: "", nabati: "", sayur: "", karbo: "",
                image: "https://images.unsplash.com/photo-1547592180-85f173990554?auto=format&fit=crop&w=800&q=80",
                isAiGenerated: true,
                ...data
              };
            }
            return null;

          } catch (error) {
            console.error("Gemini AI Error:", error);
            return null;
          }
        };

        // --- 3. COMPONENTS ---

        const Navbar = ({ onHomeClick }) => {
          const handleFeatureNotReady = (e, featureName) => {
            e.preventDefault();
            alert(` Maaf, fitur "${featureName}" masih dalam tahap pengembangan.\n\nNantikan update eksklusif selanjutnya dari Lisa Aliya!`);
          };

          return (
            <header className="sticky top-0 z-50 bg-white/90 backdrop-blur-md shadow-sm border-b border-stone-100">
              <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div className="flex justify-between items-center h-16">
                  <div className="flex items-center gap-2 cursor-pointer group" onClick={onHomeClick}>
                    <div className="bg-sage-100 p-1.5 rounded-lg group-hover:bg-sage-200 transition-colors">
                        <ChefHat className="h-6 w-6 text-sage-600" />
                    </div>
                    <div className="flex flex-col">
                        <span className="text-lg font-bold text-sage-600 tracking-tight leading-none group-hover:text-sage-800 transition-colors">NutriFind.</span>
                        <span className="text-[10px] text-stone-500 font-medium tracking-wide">by Lisa Aliya</span>
                    </div>
                  </div>

                  <nav className="flex items-center space-x-6">
                    <a href="#" onClick={onHomeClick} className="hidden sm:block text-stone-600 hover:text-sage-600 font-medium transition-colors text-sm">Beranda</a>
                    <a href="#" onClick={(e) => handleFeatureNotReady(e, "Resep Premium")} className="hidden sm:block text-stone-600 hover:text-sage-600 font-medium transition-colors text-sm">Resep Premium</a>
                    <div onClick={(e) => handleFeatureNotReady(e, "Login Member")} className="flex items-center gap-2 text-stone-600 cursor-pointer hover:text-sage-600 bg-stone-100 px-3 py-1.5 rounded-full transition-colors hover:bg-sage-100">
                        <User className="h-4 w-4" />
                        <span className="text-xs font-bold">Masuk</span>
                    </div>
                  </nav>
                </div>
              </div>
            </header>
          );
        };

        const Hero = () => {
          return (
            <div className="relative bg-stone-900 overflow-hidden">
              <div className="absolute inset-0">
                <img src="https://images.unsplash.com/photo-1498837167922-ddd27525d352?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80" alt="Healthy Food" className="w-full h-full object-cover opacity-30"/>
                <div className="absolute inset-0 bg-gradient-to-t from-stone-900 via-stone-900/60 to-transparent"></div>
              </div>
              <div className="relative max-w-7xl mx-auto py-24 px-4 sm:px-6 lg:px-8 text-center sm:text-left">
                <div className="sm:max-w-2xl">
                    <div className="inline-block px-4 py-1.5 mb-6 rounded-full bg-sage-500/20 border border-sage-500/30 backdrop-blur-sm">
                        <span className="text-sage-100 font-semibold text-xs sm:text-sm tracking-wide uppercase">Karya Lisa Aliya  Solusi Anak Kost</span>
                    </div>
                    <h1 className="text-4xl font-extrabold tracking-tight text-white sm:text-5xl md:text-6xl mb-6">
                    Cook Smarter,<br />
                    <span className="text-sage-500">Live Healthier.</span>
                    </h1>
                    <p className="mt-4 text-lg sm:text-xl text-stone-300 max-w-lg leading-relaxed">
                    Bingung mau masak apa dengan bahan sisa di kulkas? Masukkan bahan yang kamu punya, dan temukan inspirasi menu harian yang hemat, sehat, dan praktis.
                    </p>
                </div>
              </div>
            </div>
          );
        };

        const RecipeCard = ({ recipe, onClick }) => {
          return (
            <div onClick={() => onClick(recipe)} className="group bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-xl hover:shadow-sage-200/50 border border-stone-100 transition-all duration-300 transform hover:-translate-y-1 cursor-pointer flex flex-col h-full">
              <div className="relative h-52 overflow-hidden bg-stone-200">
                <img src={recipe.image} alt={recipe.title} loading="lazy" className="w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"/>
                <div className="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-60 group-hover:opacity-80 transition-opacity" />
                
                <div className="absolute top-3 left-3 flex gap-2 flex-wrap max-w-[80%]">
                  {recipe.tags.slice(0, 2).map((tag, idx) => (
                    <span key={idx} className="bg-white/95 backdrop-blur-md text-sage-800 text-[10px] font-bold px-2.5 py-1 rounded-full shadow-sm uppercase tracking-wide">{tag}</span>
                  ))}
                  {recipe.isAiGenerated && (
                     <span className="bg-purple-600/90 backdrop-blur-sm text-white text-[10px] font-bold px-2.5 py-1 rounded-full shadow-sm flex items-center gap-1 uppercase tracking-wide">
                        <Sparkles size={10} /> AI Chef
                     </span>
                  )}
                </div>
                
                <div className="absolute bottom-3 right-3">
                     <span className="bg-orange-accent text-white text-xs font-bold px-3 py-1 rounded-full shadow-md border border-white/20">{recipe.price}</span>
                </div>
              </div>

              <div className="p-5 flex-1 flex flex-col">
                <h3 className="text-lg font-bold text-stone-800 mb-2 leading-tight group-hover:text-sage-700 transition-colors">{recipe.title}</h3>
                <p className="text-stone-500 text-sm mb-5 line-clamp-2 flex-1">{recipe.desc}</p>

                <div className="bg-stone-50/80 rounded-xl p-3 flex justify-between items-center text-xs font-semibold text-stone-600 mt-auto border border-stone-100">
                  <div className="flex flex-col items-center gap-1">
                    <Flame size={16} className="text-orange-accent" />
                    <span>{recipe.calories} kkal</span>
                  </div>
                  <div className="w-px h-8 bg-stone-200/80"></div>
                  <div className="flex flex-col items-center gap-1">
                    <Activity size={16} className="text-blue-500" />
                    <span>{recipe.protein_val}g Prot</span>
                  </div>
                  <div className="w-px h-8 bg-stone-200/80"></div>
                  <div className="flex flex-col items-center gap-1">
                    <Wheat size={16} className="text-amber-500" />
                    <span>{recipe.carbs_val}g Karb</span>
                  </div>
                </div>
              </div>
            </div>
          );
        };

        const RecipeModal = ({ recipe, onClose }) => {
          if (!recipe) return null;

          return (
            <div className="fixed inset-0 z-[100] overflow-y-auto" role="dialog" aria-modal="true">
              <div className="fixed inset-0 bg-stone-900/60 backdrop-blur-sm transition-opacity animate-in fade-in duration-200" onClick={onClose}></div>
              <div className="flex min-h-full items-center justify-center p-4 text-center sm:p-0">
                <div className="relative transform overflow-hidden rounded-2xl bg-white text-left shadow-2xl transition-all sm:my-8 sm:w-full sm:max-w-3xl animate-in zoom-in-95 duration-200">
                  
                  <button onClick={onClose} className="absolute top-4 right-4 z-20 p-2 bg-black/20 hover:bg-black/40 text-white rounded-full transition-colors backdrop-blur-sm">
                    <X size={20} />
                  </button>

                  <div className="h-72 w-full relative group">
                    <img src={recipe.image} alt={recipe.title} className="h-full w-full object-cover"/>
                    <div className="absolute inset-0 bg-gradient-to-t from-stone-900/90 via-stone-900/40 to-transparent p-6 sm:p-8 flex flex-col justify-end">
                       <div className="flex items-center gap-2 mb-3">
                         {recipe.tags.map(tag => (
                           <span key={tag} className="text-xs font-bold bg-sage-500/90 backdrop-blur-md text-white px-2.5 py-1 rounded shadow-lg">{tag}</span>
                         ))}
                       </div>
                       <h2 className="text-2xl sm:text-4xl font-bold text-white mb-2 leading-tight shadow-sm">{recipe.title}</h2>
                       <p className="text-stone-300 text-sm sm:text-base line-clamp-2 max-w-2xl">{recipe.desc}</p>
                    </div>
                  </div>

                  <div className="p-6 sm:p-8 bg-white">
                    <div className="mb-8 border-2 border-stone-800 rounded-lg p-4">
                        <div className="flex justify-between items-end border-b-4 border-stone-800 pb-2 mb-2">
                            <h3 className="font-black text-2xl text-stone-800">Informasi Nilai Gizi</h3>
                            <span className="text-sm font-bold text-stone-600">Per Porsi</span>
                        </div>
                        <div className="flex justify-between items-center text-sm font-bold border-b border-stone-300 py-1">
                            <span>Kalori</span>
                            <span className="text-xl">{recipe.calories} kkal</span>
                        </div>
                        <div className="grid grid-cols-3 gap-4 mt-2 text-sm">
                            <div className="flex flex-col">
                                <span className="font-bold text-stone-800">Protein</span>
                                <span className="text-stone-600">{recipe.protein_val}g</span>
                            </div>
                            <div className="flex flex-col border-l border-stone-300 pl-4">
                                <span className="font-bold text-stone-800">Lemak</span>
                                <span className="text-stone-600">{recipe.fat_val}g</span>
                            </div>
                            <div className="flex flex-col border-l border-stone-300 pl-4">
                                <span className="font-bold text-stone-800">Karbohidrat</span>
                                <span className="text-stone-600">{recipe.carbs_val}g</span>
                            </div>
                        </div>
                    </div>

                    <div className="grid md:grid-cols-2 gap-10">
                        <div className="space-y-8">
                            <div className="bg-sage-50 rounded-xl p-5 border border-sage-100">
                                <h3 className="flex items-center gap-2 text-lg font-bold text-sage-800 mb-3">
                                    <Info size={20} className="text-sage-600"/> Manfaat Sehat
                                </h3>
                                <p className="text-sage-700 text-sm leading-relaxed">{recipe.benefit}</p>
                            </div>
                            <div>
                                <h3 className="flex items-center gap-2 text-lg font-bold text-stone-800 mb-4 pb-2 border-b border-stone-100">
                                    <ChefHat size={20} className="text-orange-accent"/> Bahan-bahan
                                </h3>
                                <ul className="space-y-3">
                                   {recipe.ingredients.map((item, idx) => (
                                     <li key={idx} className="flex items-start gap-3 group">
                                        <div className="mt-1 min-w-[1.25rem]">
                                          <CheckCircle2 size={16} className="text-sage-500 group-hover:text-sage-700" />
                                        </div>
                                        <span className="text-stone-700 text-sm font-medium group-hover:text-stone-900 transition-colors">{item}</span>
                                     </li>
                                   ))}
                                </ul>
                            </div>
                        </div>

                        <div>
                            <h3 className="flex items-center gap-2 text-lg font-bold text-stone-800 mb-4 pb-2 border-b border-stone-100">
                                <Flame size={20} className="text-orange-accent"/> Cara Membuat
                            </h3>
                            <div className="space-y-6">
                                {recipe.cara.map((step, idx) => (
                                    <div key={idx} className="relative pl-8 group">
                                        <span className="absolute left-0 top-0 flex items-center justify-center w-6 h-6 rounded-full bg-stone-100 text-stone-600 font-bold text-xs border border-stone-200 group-hover:bg-sage-500 group-hover:text-white group-hover:border-sage-500 transition-colors">
                                            {idx + 1}
                                        </span>
                                        <p className="text-stone-700 text-sm leading-relaxed group-hover:text-stone-900 transition-colors">{step}</p>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>

                    <div className="mt-10 pt-6 border-t border-stone-100 flex justify-between items-center bg-stone-50 -mx-6 -mb-6 sm:-mx-8 sm:-mb-8 p-6 rounded-b-2xl">
                         <div className="flex flex-col">
                            <span className="text-xs font-semibold text-stone-500 uppercase tracking-wider">Estimasi Harga</span>
                            <span className="text-orange-accent font-bold text-2xl">{recipe.price}</span>
                         </div>
                         <button className="flex items-center gap-2 px-6 py-3 bg-sage-600 text-white rounded-xl hover:bg-sage-700 transition-all shadow-lg shadow-sage-200 font-bold text-sm transform active:scale-95">
                            <Heart size={18} /> Simpan Resep
                         </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          );
        };

        const FilterSelect = ({ label, value, options, onChange }) => (
          <div className="relative group">
            <label className="block text-xs font-bold text-stone-500 uppercase tracking-wide mb-1.5 ml-1">{label}</label>
            <div className="relative">
                <select 
                    className="w-full appearance-none bg-stone-50 border border-stone-200 text-stone-700 py-3 px-4 pr-10 rounded-xl focus:outline-none focus:ring-2 focus:ring-sage-500 focus:border-transparent transition-all hover:border-sage-300 cursor-pointer font-medium text-sm shadow-sm"
                    value={value}
                    onChange={(e) => onChange(e.target.value)}
                >
                    <option value="">Pilih {label}...</option>
                    {options.map(opt => <option key={opt.value} value={opt.value}>{opt.label}</option>)}
                </select>
                <div className="pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-stone-400 group-hover:text-sage-600 transition-colors">
                    <SlidersHorizontal size={16} />
                </div>
            </div>
          </div>
        );

        const FilterBar = ({ filters, onFilterChange, onReset, resultCount }) => {
          const hasActiveFilters = Object.values(filters).some(Boolean);

          return (
            <div className="bg-white rounded-3xl shadow-xl shadow-stone-200/50 p-6 sm:p-8 mb-10 border border-stone-100 relative overflow-hidden">
                <div className="absolute top-0 right-0 w-64 h-64 bg-sage-50 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 opacity-50 pointer-events-none"></div>
                <div className="flex flex-col md:flex-row justify-between items-start md:items-end mb-8 relative z-10">
                    <div>
                        <h2 className="text-2xl font-bold text-stone-800 tracking-tight">Isi Kulkas Kamu</h2>
                        <p className="text-stone-500 mt-1 text-sm">Pilih bahan yang tersedia di dapurmu sekarang.</p>
                    </div>
                    {hasActiveFilters && (
                        <button onClick={onReset} className="flex items-center gap-1.5 text-xs font-bold text-orange-accent hover:text-orange-600 bg-orange-50 px-3 py-1.5 rounded-lg transition-colors mt-3 md:mt-0">
                            <RotateCcw size={14} /> Reset Filter
                        </button>
                    )}
                </div>

                <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5 relative z-10">
                    <FilterSelect label="Protein Hewani" value={filters.hewan} options={INGREDIENT_OPTIONS.hewan} onChange={(v) => onFilterChange('hewan', v)}/>
                    <FilterSelect label="Protein Nabati" value={filters.nabati} options={INGREDIENT_OPTIONS.nabati} onChange={(v) => onFilterChange('nabati', v)}/>
                    <FilterSelect label="Sayuran" value={filters.sayur} options={INGREDIENT_OPTIONS.sayur} onChange={(v) => onFilterChange('sayur', v)}/>
                    <FilterSelect label="Karbohidrat" value={filters.karbo} options={INGREDIENT_OPTIONS.karbo} onChange={(v) => onFilterChange('karbo', v)}/>
                </div>
                
                <div className="mt-6 pt-4 border-t border-stone-100 flex items-center justify-between text-xs font-medium text-stone-400">
                     <div className="flex items-center gap-2">
                        <div className="p-1 bg-sage-100 rounded-md">
                             <Search size={14} className="text-sage-600"/> 
                        </div>
                        <span>Ditemukan <strong className="text-stone-800 text-sm">{resultCount}</strong> resep cocok</span>
                     </div>
                     <span className="hidden sm:inline">Tips: Kombinasikan bahan untuk hasil lebih spesifik</span>
                </div>
            </div>
          );
        };

        const EmptyState = ({ onAskAI }) => {
          return (
            <div className="text-center py-20 bg-white rounded-3xl border-2 border-dashed border-stone-200 hover:border-sage-200 transition-colors group">
                <div className="bg-stone-50 p-6 rounded-full inline-block mb-6 group-hover:scale-110 transition-transform duration-300">
                    <Search size={48} className="text-stone-300 group-hover:text-sage-400 transition-colors" />
                </div>
                <h3 className="text-xl font-bold text-stone-800 mb-2">Belum ada resep yang pas</h3>
                <p className="text-stone-500 max-w-md mx-auto mb-8 leading-relaxed">
                    Database resep manual kami belum memiliki kombinasi persis ini. Tapi jangan khawatir, Chef AI Lisa siap membantu!
                </p>
                <button onClick={onAskAI} className="inline-flex items-center gap-2 px-6 py-3 bg-white border border-purple-200 text-purple-700 font-bold rounded-xl hover:bg-purple-50 hover:border-purple-300 hover:shadow-lg transition-all shadow-sm">
                    <Sparkles size={18} /> Minta Buatkan Resep Baru (AI)
                </button>
            </div>
          );
        };

        const Footer = () => {
          return (
            <footer className="bg-stone-900 text-stone-400 py-16 mt-24">
              <div className="max-w-7xl mx-auto px-4 grid grid-cols-1 md:grid-cols-3 gap-8 text-center md:text-left">
                  <div>
                    <h3 className="text-white font-bold text-lg mb-4">NutriFind by Lisa Aliya</h3>
                    <p className="text-sm leading-relaxed max-w-xs mx-auto md:mx-0">
                        Membantu anak kost dan pejuang dapur hemat menciptakan hidangan lezat dan bergizi dari apa saja yang tersisa di kulkas.
                    </p>
                  </div>
                  <div>
                     <h4 className="text-white font-bold mb-4">Akses Cepat</h4>
                     <ul className="space-y-2 text-sm">
                        <li><a href="#" className="hover:text-white transition-colors">Cari Resep</a></li>
                        <li><a href="#" className="hover:text-white transition-colors">Langganan Premium</a></li>
                        <li><a href="#" className="hover:text-white transition-colors">Tentang Lisa Aliya</a></li>
                     </ul>
                  </div>
                  <div>
                    <h4 className="text-white font-bold mb-4">Legal</h4>
                     <ul className="space-y-2 text-sm">
                        <li><a href="#" className="hover:text-white transition-colors">Kebijakan Privasi</a></li>
                        <li><a href="#" className="hover:text-white transition-colors">Syarat & Ketentuan</a></li>
                     </ul>
                  </div>
              </div>
              <div className="max-w-7xl mx-auto px-4 mt-12 pt-8 border-t border-stone-800 text-center text-xs">
                  <p> 2024 NutriFind Inc. Dibuat dengan <Heart size={12} className="inline text-red-500 fill-current mx-1"/> oleh Lisa Aliya.</p>
              </div>
            </footer>
          );
        };

        // --- 4. MAIN APP LOGIC ---

        const ITEMS_PER_PAGE = 9;

        const App = () => {
          const [recipes, setRecipes] = useState(INITIAL_RECIPES);
          const [selectedRecipe, setSelectedRecipe] = useState(null);
          
          const [filters, setFilters] = useState({
            hewan: '', nabati: '', sayur: '', karbo: ''
          });

          const [visibleCount, setVisibleCount] = useState(ITEMS_PER_PAGE);
          const [isAiLoading, setIsAiLoading] = useState(false);
          const [showAiError, setShowAiError] = useState(false);

          const handleFilterChange = (key, value) => {
            setFilters(prev => ({ ...prev, [key]: value }));
            setVisibleCount(ITEMS_PER_PAGE);
          };

          const resetFilters = () => {
            setFilters({hewan: '', nabati: '', sayur: '', karbo: ''});
            setVisibleCount(ITEMS_PER_PAGE);
          };

          const handleHomeClick = () => {
            resetFilters();
            window.scrollTo({ top: 0, behavior: 'smooth' });
          };

          const filteredRecipes = useMemo(() => {
            const { hewan, nabati, sayur, karbo } = filters;
            const hasSelection = hewan || nabati || sayur || karbo;

            if (!hasSelection) return recipes;

            const scoredRecipes = recipes.map(recipe => {
                let score = 0;
                if (hewan && recipe.hewan === hewan) score += 10;
                if (nabati && recipe.nabati === nabati) score += 10;
                if (sayur && recipe.sayur === sayur) score += 10;
                if (karbo && recipe.karbo === karbo) score += 10;
                return { ...recipe, matchScore: score };
            });

            return scoredRecipes
                .filter(r => r.matchScore > 0)
                .sort((a, b) => b.matchScore - a.matchScore);

          }, [filters, recipes]);

          const displayedRecipes = filteredRecipes.slice(0, visibleCount);
          const hasMore = visibleCount < filteredRecipes.length;

          const handleLoadMore = () => {
            setVisibleCount(prev => prev + 6);
          };

          const handleAskAI = async () => {
            setIsAiLoading(true);
            setShowAiError(false);
            
            const ingredients = [
                filters.hewan ? INGREDIENT_OPTIONS.hewan.find(i => i.value === filters.hewan)?.label : '',
                filters.nabati ? INGREDIENT_OPTIONS.nabati.find(i => i.value === filters.nabati)?.label : '',
                filters.sayur ? INGREDIENT_OPTIONS.sayur.find(i => i.value === filters.sayur)?.label : '',
                filters.karbo ? INGREDIENT_OPTIONS.karbo.find(i => i.value === filters.karbo)?.label : '',
            ].filter(Boolean);

            if (ingredients.length === 0) {
                alert("Pilih minimal satu bahan untuk bertanya pada Chef Lisa.");
                setIsAiLoading(false);
                return;
            }

            const newRecipe = await generateRecipeWithAI(ingredients);

            if (newRecipe) {
                setRecipes(prev => [newRecipe, ...prev]);
                setSelectedRecipe(newRecipe);
            } else {
                setShowAiError(true);
            }
            setIsAiLoading(false);
          };

          return (
            <div className="min-h-screen bg-stone-50 font-sans selection:bg-sage-200 selection:text-sage-900">
              <Navbar onHomeClick={handleHomeClick} />
              <Hero />

              <main className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 -mt-20 relative z-10">
                
                <FilterBar 
                    filters={filters} 
                    onFilterChange={handleFilterChange} 
                    onReset={resetFilters}
                    resultCount={filteredRecipes.length}
                />

                <div className="flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8">
                    <div className="flex items-center gap-3">
                        <div className="p-2 bg-sage-100 rounded-lg text-sage-600">
                            <ChefHat size={24} />
                        </div>
                        <h2 className="text-2xl font-bold text-stone-800 tracking-tight">
                            {Object.values(filters).some(Boolean) ? 'Hasil Pencarian' : 'Rekomendasi Menu'}
                        </h2>
                    </div>
                    
                    <button 
                        onClick={handleAskAI}
                        disabled={isAiLoading}
                        className={`flex items-center gap-2 px-5 py-2.5 rounded-xl font-bold text-white shadow-lg shadow-purple-200 transition-all transform hover:-translate-y-0.5 active:scale-95 text-sm ${
                            isAiLoading 
                            ? 'bg-purple-400 cursor-not-allowed' 
                            : 'bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700'
                        }`}
                    >
                        {isAiLoading ? (
                            <>
                                <div className="animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"></div>
                                Meracik Resep...
                            </>
                        ) : (
                            <>
                                <Sparkles size={16} />
                                Tanya Chef Lisa (AI)
                            </>
                        )}
                    </button>
                </div>

                {showAiError && (
                    <div className="mb-8 p-4 bg-red-50 text-red-700 text-sm rounded-xl border border-red-100 text-center font-medium animate-in fade-in slide-in-from-top-2">
                        Gagal terhubung dengan Chef AI. Mohon cek koneksi atau API Key.
                    </div>
                )}

                {displayedRecipes.length > 0 ? (
                    <>
                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12">
                            {displayedRecipes.map(recipe => (
                                <RecipeCard 
                                    key={recipe.id} 
                                    recipe={recipe} 
                                    onClick={setSelectedRecipe} 
                                />
                            ))}
                        </div>
                        
                        {hasMore && (
                            <div className="text-center">
                                <button 
                                    onClick={handleLoadMore}
                                    className="inline-flex items-center gap-2 px-6 py-3 bg-white text-stone-600 font-bold rounded-full border border-stone-200 hover:border-sage-400 hover:text-sage-600 hover:shadow-md transition-all group"
                                >
                                    Tampilkan Lebih Banyak
                                    <ArrowDownCircle size={18} className="group-hover:translate-y-0.5 transition-transform"/>
                                </button>
                            </div>
                        )}
                    </>
                ) : (
                    <EmptyState onAskAI={handleAskAI} />
                )}

              </main>

              <Footer />
              <RecipeModal recipe={selectedRecipe} onClose={() => setSelectedRecipe(null)} />
            </div>
          );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
